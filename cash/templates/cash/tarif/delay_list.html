{% extends "../../layout.html" %}
{% block title %}List of Delays (Late Payments){% endblock %}
{% block header %}
<span class="navbar-brand mb-0 h1 text-white">Liste générale retards paiements</span>
          
    
            <!-- Undo and Redo Icons -->
            <div class="ml-2 d-flex align-items-stretch">
                <button class="class-card mr-3" id="undo-button" title="Undo">
                    <i class="fas fa-undo"></i>
                </button>
                <button class="class-card mr-3" id="redo-button" title="Redo">
                    <i class="fas fa-redo"></i>
                </button>
                <h2 class='mr-3 text-white'><strong>{{ page_identifier }}</strong></h2>
            </div>
{% endblock header %}
{% block content %}

  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead class="thead-dark">
        <tr>
          <th>ID</th>
          <th>Nom</th>
          <th>Prenom</th>
          <th>Sex</th>
          <th>CS_PY</th>
          <th>SCO</th>
          <th>SCO_exigible</th>
          <th>Diff.</th>
          <th>CAN</th>
          <th>CAN_exigible</th>
          <th>Diff.</th>
          <th>Retards</th>
          <th>Note</th>
        </tr>
      </thead>
      <tbody>
        {% for school, classes in data.items %}
          <tr>
            <td colspan="13"><strong>{{ school }}</strong></td>
          </tr>
          {% for classe, students in classes.items %}
            <tr>
              <td colspan="13">{{ classe }}</td>
            </tr>
            {% for student in students %}
              <tr>
                <td>{{ student.id }}</td>
                <td>{{ student.nom }}</td>
                <td>{{ student.prenom }}</td>
                <td>{{ student.sex }}</td>
                <td>{{ student.cs_py }}</td>
                <td>{{ student.sco }}</td>
                <td>{{ student.sco_exigible }}</td>
                <td>{{ student.diff_sco }}</td>
                <td>{{ student.can }}</td>
                <td>{{ student.can_exigible }}</td>
                <td>{{ student.diff_can }}</td>
                <td>{{ student.retards }}</td>
                <td>{{ student.note }}</td>
              </tr>
            {% endfor %}
          {% endfor %}
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}